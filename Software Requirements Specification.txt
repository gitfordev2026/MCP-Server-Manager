1️⃣ Software Requirements Specification (SRS)
1.1 Introduction
1.1.1 Purpose

This document defines functional and non-functional requirements for the MCP Server Manager, a centralized system to register, monitor, manage, and expose APIs as MCP servers with RBAC and LLM-based interaction.

1.1.2 Scope

The system will:

Allow admins/users to register external API servers

Validate and monitor server health

Expose APIs as MCP tools (individual or grouped)

Provide dashboard monitoring

Provide chat interface for LLM tool invocation

Implement RBAC using Keycloak

Log all system actions

Provide dark/light UI

1.2 Overall Description
1.2.1 Product Perspective

Web-based application with:

Backend: FastAPI

Frontend: Next.js + TailwindCSS

Auth: Keycloak

DB: SQLite (initially, scalable to PostgreSQL)

LLM integration layer

1.3 Functional Requirements
1.3.1 Authentication & Authorization

FR-1: System must integrate Keycloak for authentication.

FR-2: Role-based access control:

Admin

User

FR-3: Only admin can:

Add/edit/delete servers

Modify roles

FR-4: Users can:

View servers

Use chat

View APIs (if permitted)

1.3.2 Server Registration

FR-5: Admin can register server:

Name

Base URL

Description

Group

FR-6: System must validate:

URL accessibility

OpenAPI/Swagger presence

At least one API endpoint exists

FR-7: On registration, APIs must be parsed and stored.

1.3.3 Server Monitoring

FR-8: Periodic health check (configurable interval).

FR-9: Store:

Status (Active/Inactive)

Response time

Last checked

FR-10: Notify if server is down.

1.3.4 Dashboard

FR-11: Display summary cards:

Total servers

Active servers

Inactive servers

System uptime

FR-12: Clicking a server shows:

Name

URL

Status

APIs

Actions (edit/delete/force-check)

1.3.5 API Management

FR-13: Display API details:

Method

Endpoint

Description

Request schema

Response schema

FR-14: Allow grouping APIs into MCP groups.

FR-15: Export selected APIs as MCP tools.

1.3.6 Chat Interface

FR-16: User can:

Select MCP server/group

Chat via LLM

FR-17: LLM must:

Auto-detect tool calls

Execute APIs

Return formatted response

1.3.7 Logging

FR-18: Log:

User actions

Server checks

API calls

Errors

FR-19: Store logs:

Log file

Database

1.3.8 UI

FR-20: Dark/light theme toggle.

FR-21: Responsive UI.

FR-22: CTA-based layout.

1.4 Non-Functional Requirements
Category	Requirement
Performance	API calls < 500ms internal
Scalability	Modular for PostgreSQL migration
Security	JWT validation, RBAC
Reliability	99% monitoring uptime
Maintainability	Modular backend
2️⃣ Technical Architecture Design
2.1 High-Level Architecture
[User]
   ↓
[Next.js Frontend]
   ↓ (JWT)
[FastAPI Backend]
   ↓
------------------------------------
|  Core Services Layer             |
|-----------------------------------|
| Auth Middleware (Keycloak)       |
| Server Registry Service          |
| Monitoring Service               |
| MCP Adapter Service              |
| LLM Orchestrator Service         |
| Logging Service                  |
------------------------------------
   ↓
[SQLite DB]
   ↓
[External API Servers]

2.2 Backend Modules

auth/

servers/

apis/

monitoring/

mcp/

chat/

logs/

core/

2.3 Background Jobs

APScheduler / Celery (for health checks)

Periodic monitoring

Log archiving

3️⃣ Database Schema Design
3.1 Users (from Keycloak)

(Stored minimally for reference)

users
-----
id (PK)
keycloak_id
role
created_at

3.2 Servers
servers
-------
id (PK)
name
base_url
description
group_name
status
last_checked
response_time
created_at
updated_at

3.3 APIs
apis
----
id (PK)
server_id (FK)
name
method
endpoint
description
request_schema (JSON)
response_schema (JSON)
is_enabled
created_at

3.4 MCP Groups
mcp_groups
-----------
id (PK)
name
description

3.5 MCP Group APIs
mcp_group_apis
---------------
id (PK)
group_id (FK)
api_id (FK)

3.6 Logs
logs
----
id (PK)
level
message
user_id
server_id
api_id
timestamp

3.7 Notifications
notifications
--------------
id (PK)
server_id
message
is_read
created_at

4️⃣ API Structure Blueprint
Auth

GET /auth/me

GET /auth/roles

Server Management

POST /servers

GET /servers

GET /servers/{id}

PUT /servers/{id}

DELETE /servers/{id}

POST /servers/{id}/force-check

API Management

GET /servers/{id}/apis

PUT /apis/{id}/toggle

POST /mcp/groups

POST /mcp/groups/{id}/add-api

Monitoring

GET /monitoring/status

GET /monitoring/logs

Chat

POST /chat

POST /chat/tool-call

Logs

GET /logs

GET /logs/{id}

5️⃣ UI Wireframe Structure
5.1 Login Page

Keycloak redirect

5.2 Dashboard

Cards:

Total Servers

Active Servers

Inactive Servers

System Uptime

Below:
Server cards grid:

Each card:

Name

Status badge

URL

View APIs

Dropdown:

Edit

Delete

Force Check

5.3 Server Details Page

Server info section

API list table:

Method

Endpoint

Description

Enable toggle

Export to MCP button

5.4 Chat Page

Left:

Server/Group selector

Right:

Chat window

Tool invocation display

JSON response viewer

5.5 Admin Page

Role assignment

Server CRUD

Log viewer

Notification panel

6️⃣ Complete Development Roadmap
Phase 1 – Foundation (Week 1)

Setup FastAPI project

Setup Next.js project

Integrate Keycloak

Design DB schema

Basic server CRUD

Phase 2 – API Parsing (Week 2)

Swagger parsing

Store APIs in DB

Validation logic

Server health check logic

Phase 3 – Dashboard (Week 3)

Build dashboard UI

Monitoring cards

Server cards

Force check feature

Phase 4 – MCP Layer (Week 4)

MCP adapter

API grouping

Export mechanism

Phase 5 – Chat Integration (Week 5)

LLM integration

Tool calling pipeline

Streaming responses

Phase 6 – Logging & Notifications (Week 6)

Logging middleware

Notification service

DB + file logging

Phase 7 – Production Hardening (Week 7)

Dockerize

Add reverse proxy

Add rate limiting

Add caching

Security audit

Final System Characteristics

Fully modular

RBAC secured

LLM-integrated

Observable

Scalable to enterprise